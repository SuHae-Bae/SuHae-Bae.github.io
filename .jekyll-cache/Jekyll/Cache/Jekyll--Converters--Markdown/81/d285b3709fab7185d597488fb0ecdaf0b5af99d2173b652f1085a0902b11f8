I"<p>Post-ironic jean shorts bushwick umami, synth beard austin hell of meh kitsch distillery sustainable plaid bitters. Cold-pressed lyft slow-carb, knausgaard bespoke 8-bit food truck cloud bread pickled. Taiyaki bitters trust fund heirloom craft beer single-origin coffee. Readymade fam vape blue bottle cold-pressed, flannel polaroid. Aesthetic four dollar toast semiotics af bicycle rights. Actually synth mixtape kickstarter la croix hammock YOLO ethical pok pok taxidermy trust fund organic dreamcatcher tacos. Franzen four loko man braid letterpress umami offal. Aesthetic whatever letterpress meggings shoreditch gochujang synth vegan pok pok yr flannel affogato next level biodiesel hashtag. Banjo vaporware lyft unicorn tumblr. Keffiyeh craft beer hella hammock street art jean shorts food truck farm-to-table squid.</p>

<h2 id="개요">개요</h2>

<p>앞서 민원 분석을 실시한 결과(참고: https://suhae-bae.github.io/%EC%9D%B8%EC%B2%9C-%EC%A4%91%EA%B5%AC%EC%B2%AD-%EB%AF%BC%EC%9B%90%EB%B6%84%EC%84%9D/), 상당수의 민원이 주차 관련 문제임을 파악하였다. 이에 차량 등록 대장과 같은 데이터를 활용하여 어떤 행정동의 주차 문제가 시급한지 파악하고, 여유공간을 계산하여 해결책을 제시하고자 이 프로젝트를 진행하였다.</p>

<p>앞서 다른 프로젝트와 마찬가지로, 보안 규정에 따라 전체 코드와 데이터를 공개할 수는 없지만(Github에도 코드를 업로드하지 못했다) 최대한 가능한 선에서 소개하도록 하겠다. 또한 사전에 담당자님으로부터 전달받은 raw data에는 이미 개인정보 보호를 위한 익명화가 되어 있었고, 데이터 분석을 위한 필수 데이터를 제외한 정보는 삭제되어 있었음을 알린다.</p>

<h2 id="사용-데이터-및-기술">사용 데이터 및 기술</h2>

<p>사용 데이터 목록은 다음과 같다.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">순번</th>
      <th style="text-align: center">데이터명</th>
      <th style="text-align: center">시점</th>
      <th style="text-align: center">단위</th>
      <th style="text-align: center">포멧</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">건축물 대장</td>
      <td style="text-align: center">2020.12</td>
      <td style="text-align: center">건물</td>
      <td style="text-align: center">excel</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">차량등록대장</td>
      <td style="text-align: center">2020.12</td>
      <td style="text-align: center">주소</td>
      <td style="text-align: center">excel</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">불법주정차 과태료 부과대장</td>
      <td style="text-align: center">2020.12</td>
      <td style="text-align: center">단속지점</td>
      <td style="text-align: center">excel</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">이동형 주차단속기록</td>
      <td style="text-align: center">2020.12</td>
      <td style="text-align: center">단속지점</td>
      <td style="text-align: center">excel</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">국가기초구역(행정동)</td>
      <td style="text-align: center">2020.12</td>
      <td style="text-align: center">국가기초구역</td>
      <td style="text-align: center">shp</td>
    </tr>
  </tbody>
</table>

<p>사용 기술은 다음과 같다.</p>

<table>
  <thead>
    <tr>
      <th><img src="/assets/img/QGIS.png" alt="QGIS" /></th>
      <th><img src="/assets/img/Python.png" alt="Python" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>데이터를 지도에 시각화</td>
      <td>데이터 전처리</td>
    </tr>
  </tbody>
</table>

<h2 id="데이터-전처리">데이터 전처리</h2>

<h3 id="지오코딩">지오코딩</h3>

<p>이번에 넘겨받은 데이터들은 한번 개인정보를 삭제하는 과정에서 전처리가 되었는지 결측치는 거의 없었다. 몇몇 null이 포함된 데이터를 삭제하였고(거의 없었다), 데이터를 QGIS로 시각화하기 위해 건축물 대장과 차량 등록 대장 등의 데이터의 주소를 Kakao api를 이용해 좌표로 변환하였다.</p>

<pre><code class="language-Python"># 만약 찾지 못할 경우, 이전 위경도로 저장되므로 중복처리 한번 해줘야 함

for i in range(len(file)):
	# ---이부분은 생략가능(얼마나 진행됬는지 확인)---
	if (i%500 == 0):
		print(str(i)+" rows done")
	# ------------------------------------------------
	try:
		match_first= {'x': 0, 'y': 0}
		addr = file['주소'][i]
		url='https://dapi.kakao.com/v2/local/search/address.json?query=' + addr
		headers = {"Authorization": "KakaoAK 057873079626a592436710b8c7b612e8"}
		result = json.loads(str(requests.get(url, headers=headers).text))
		match_first = result['documents'][0]['address']
        
		## 데이터 추가
		file['위도'][i] = match_first['y']
		file['경도'][i] = match_first['x']
        
	except IndexError:
		pass
</code></pre>

<h2 id="데이터-분석">데이터 분석</h2>

<p>이번 분석에서는 데이터 분석 및 시각화를 위해 QGIS를 주로 사용하였다.</p>

<p>그러나 이번 분석은 주차난완화 표준분석모델을 이용한 분석으로, 이는 민간에 공개되지 않은 표준분석모델이다. 따라서 표준분석모델에 없는 부분만을 업로드해두려 한다. 이 부분은 표준분석모델을 따라 진행하지 않았기에 올리는 것이다.</p>

<p>총 3가지 분석을 진행했다.</p>

<ul>
  <li>공간 단위별 여유-부족 주차면 분석</li>
  <li>불법 주정차 단속 데이터를 활용한 불법 주정차 단속 밀집지도</li>
  <li>불법 주정차 과태료 데이터를 활용한 도로별 불법주정차 단속건수 분석</li>
</ul>

<p>이중 <strong>불법 주정차 과태료 데이터를 활용한 도로별 불법주정차 단속건수 분석</strong> 방법을 소개하고자 한다.</p>

<p>먼저, QGIS를 실행시켜 주차민원 데이터와 중구 행정동 지도 데이터(.shp)를 로드한다.</p>

<p><img src="/assets/img/parking_lot1.png" alt="parking_lot1" /></p>

<p>이 중 중구 이외의 민원은 제외하기 위해 백터</p>
:ET