---
layout: post
title: ì½”ë¡œë‚˜ ë°œìƒ í˜„í™© ë¶„ì„ ë° ì‹œê°í™”
date: 2020-06-25 00:00:00 +0300
description: ì½”ë¡œë‚˜ ë°œìƒ í˜„í™© ë¶„ì„ ë° ì‹œê°í™” ì†Œê°œ # Add post description (optional)
img: corona.jpg # Add image post (optional)
tags: [R, Google Cloud Platform, MySQL] # add tag 
---





# ì½”ë¡œë‚˜ ë°œìƒ í˜„í™© ë¶„ì„ ë° ì‹œê°í™”ğŸ˜·

- [ê¹ƒí—ˆë¸Œ ì£¼ì†Œ](https://github.com/SuHae-Bae/Corona-R-analyze)



## ê°œìš”

- ì§„í–‰ê¸°ê°„: 2020ë…„ 6ì›”
- ì½”ë¡œë‚˜ì— ëŒ€í•œ ì‚¬íšŒì  ê´€ì‹¬ì´ ë†’ì•„ì§„ ê°€ìš´ë°, ê´€ë ¨ ë°ì´í„°ë¥¼ ê°„ë‹¨í•˜ê²Œ ë¶„ì„í•˜ê³  ì‹œê°í™”í•´ ë‚˜íƒ€ë‚´ë³´ë ¤ê³  í•¨
- ìœ„í‚¤í”¼ë””ì•„ ì˜ë¬¸ì„œì— ë‚˜ì™€ìˆëŠ” ì½”ë¡œë‚˜ ê´€ë ¨ ë‹¨ì–´ë“¤ì„ ì›Œë“œ í´ë¼ìš°ë“œë¡œ ë‚˜íƒ€ëƒ„
- êµ­ë‚´ ì½”ë¡œë‚˜ ë°œìƒê³¼ ê´€ë ¨ëœ ë°ì´í„°ë¥¼ ìˆ˜ì§‘, ë¶„ì„
- ë§ˆì§€ë§‰ìœ¼ë¡œ êµ¬ê¸€ í´ë¼ìš°ë“œì™€ êµ¬ê¸€ ë°ì´í„° ìŠ¤íŠœë””ì˜¤ë¥¼ ì´ìš©í•˜ì—¬ í˜„í™©ì„ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ë³´ê³ ì„œë¥¼ ì‘ì„±í•¨
- ì‚¬ìš© ê¸°ìˆ : R, êµ¬ê¸€ í´ë¼ìš°ë“œ í”Œë«í¼, êµ¬ê¸€ ë°ì´í„° ìŠ¤íŠœë””ì˜¤



## 1. COVID-19 ìœ„í‚¤í”¼ë””ì•„ ì˜ë¬¸ë¬¸ì„œë¡œ ì›Œë“œí´ë¼ìš°ë“œ ë§Œë“¤ê¸°

- [ìœ„í‚¤í”¼ë””ì•„ í˜ì´ì§€](https://en.wikipedia.org/wiki/Coronavirus_disease_2019)



```R
install.packages(c("RCurl", "XML"))
library(RCurl)
library(XML)

t <- readLines('https://en.wikipedia.org/wiki/Coronavirus_disease_2019')

d <- htmlParse(t, asText = TRUE)
clean_doc <- xpathSApply(d,"//p",xmlValue)
```

- RCurl ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì›¹ ì„œë²„ì— ì ‘ì†

- XML ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì›¹ ë¬¸ì„œ ì²˜ë¦¬

- readLines í•¨ìˆ˜ëŠ” ì§€ì •ëœ URLì—ì„œ html íŒŒì¼ì„ ì½ì–´ ì˜´

- htmlParseì™€ xpathSApply í•¨ìˆ˜ëŠ” ì›¹ ë¬¸ì„œë¥¼ Rì˜ ë°ì´í„° í˜•ìœ¼ë¡œ ë³€í™˜í•´ ì¤Œ



ë°ì´í„°ì˜ ì „ì²˜ë¦¬ ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```R
# ì „ì²˜ë¦¬
install.packages(c("tm", "SnowballC"))
library(tm)
library(SnowballC)

doc <- Corpus(VectorSource(clean_doc))
inspect(doc)

doc <- tm_map(doc, content_transformer(tolower))
doc <- tm_map(doc, removeNumbers)
doc <- tm_map(doc, removeWords, stopwords('english'))
doc <- tm_map(doc, removePunctuation)
doc <- tm_map(doc, stripWhitespace)
```

- tm ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë°ì´í„° ë§ˆì´ë‹ í•¨ìˆ˜ ì œê³µ

- SnowballC ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì–´ê°„ì„ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ ì œê³µ

- tm_map í•¨ìˆ˜ëŠ” ì§€ì •ëœ ë§¤ê°œë³€ìˆ˜ ê°’ì— ë”°ë¼ ì „ì²˜ë¦¬ ìˆ˜í–‰



ë‹¤ìŒìœ¼ë¡œ DocumentTermMatrix í•¨ìˆ˜ë¡œ DTMì„ êµ¬ì¶•í•œë‹¤.

```R
dtm = DocumentTermMatrix(doc)
dim(dtm)
inspect(dtm)
```

![image](https://user-images.githubusercontent.com/33304926/149641096-97817501-03eb-49c6-9bcc-117c28f1f316.png)

![image](https://user-images.githubusercontent.com/33304926/149641105-1da02ffa-52dc-47c9-9c13-864abdb001b6.png)



### ì›Œë“œí´ë¼ìš°ë“œ ë§Œë“¤ê¸°

ì›Œë“œí´ë¼ìš°ë“œë¡œ ë§Œë“œëŠ” ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ê·¸ëŸ°ë° ì´ë ‡ê²Œë§Œ ì§„í–‰í•˜ë©´ ì•½ê°„ ì¡°ì¡í•˜ê³ , í‘ë°±ì˜ ì›Œë“œí´ë¼ìš°ë“œê°€ ë‚˜ì˜¨ë‹¤. ë§Œì•½ íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´, ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

```R
install.packages("wordcloud")
library(wordcloud)
m <- as.matrix(dtm)
v <- sort(colSums(m), decreasing = TRUE)
d <- data.frame(word = names(v), freq = v)
wordcloud(words = d$word, freq = d$freq, min.freq = 1, max.words = 100, random.order = FALSE, rot.per = 0.35)
```

![image](https://user-images.githubusercontent.com/33304926/149641145-81abffcf-a768-49a0-806b-c968b3cf4f47.png)

ì›Œë“œí´ë¼ìš°ë“œì˜ ë‹¨ì–´ ê°œìˆ˜ë¥¼ ì¡°ì ˆí•˜ê³ , ìƒ‰ì„ ì…í˜€ ë‹¤ì‹œ ë§Œë“¤ì–´ë³´ì•˜ë‹¤.

```R
library(RColorBrewer)
pal <- brewer.pal(11, "Spectral")
wordcloud(words = d$word, freq = d$freq, min.freq = 1, max.words = 50, random.order = FALSE,
          rot.per = 0.50, colors = pal)
```

![image](https://user-images.githubusercontent.com/33304926/149641166-644e107d-3ca6-4e80-90cc-877f9e3f830d.png)

í˜¹ì‹œë‚˜ í–ˆëŠ”ë° í°íŠ¸ë„ ì¡°ì ˆí•  ìˆ˜ ìˆì–´ í°íŠ¸ë„ ë°”ê¿”ë³´ì•˜ë‹¤.

```R
wordcloud(words = d$word, freq = d$freq, min.freq = 1, max.words = 50, random.order = FALSE,
          rot.per = 0.50, colors = pal, family = "mono", font = 2)

```

![image](https://user-images.githubusercontent.com/33304926/149641189-184c18c1-f521-4e44-bc43-94c95d4494e1.png)

Rì˜ ì›Œë“œí´ë¼ìš°ë“œ íŒ¨í‚¤ì§€ì—ëŠ” ì›Œë“œí´ë¼ìš°ë“œ2ë„ ìˆì–´, ì›Œë“œí´ë¼ìš°ë“œ2ë¡œë„ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤.

```R
install.packages('wordcloud2')
library(wordcloud2)
wordcloud2(d)
```

![image](https://user-images.githubusercontent.com/33304926/149641243-edd59f8e-c7b5-4bbc-a2fd-bad2423fa2c2.png)

ì›Œë“œí´ë¼ìš°ë“œ2ëŠ” ëª¨ì–‘ì„ ë°”ê¿€ìˆ˜ë„ ìˆê³ , ë‹¨ì–´ ë°©í–¥ì˜ ë²”ìœ„ë¥¼ ì§€ì •í•´ ì¤„ ìˆ˜ë„ ìˆë‹¤.

```R
# ë³„ëª¨ì–‘ìœ¼ë¡œ ë§Œë“¤ê¸°
d1 <- d[1:200,]
wordcloud2(d1, shape = 'star')
# ë‹¨ì–´ ë°©í–¥ ë²”ìœ„ ì§€ì •
wordcloud2(d1, minRotation = pi/4, maxRotation = pi/4, rotateRatio = 1.0)
```

![image](https://user-images.githubusercontent.com/33304926/149641291-38ffd5f0-9d59-40df-af72-ce1072aaadf2.png)

![image](https://user-images.githubusercontent.com/33304926/149641294-9a6e97f8-cfba-4046-8b9c-2486555375a5.png)



## 2. êµ­ë‚´ COVID-19 ë°œìƒê³¼ ê´€ë ¨ëœ ë°ì´í„° ìˆ˜ì§‘, ë¶„ì„

- [ë°ì´í„° ì†ŒìŠ¤](https://github.com/jooeungen/coronaboard_kr)

ìœ„ ê¹ƒí—ˆë¸Œ(ì½”ë¡œë‚˜ë³´ë“œ)ì—ì„œ êµ­ë‚´ COVID-19ë°œìƒ ë°ì´í„°ë¥¼ ë‹¤ìš´ë°›ì•„ ë¶„ì„í•˜ì˜€ë‹¤.

```R
# ë°ì´í„° ë¶„ì„ì„ ìœ„í•´ ë°ì´í„° ë¡œë“œ
kr_regional_daily = read.csv('./kr_regional_daily.csv', fileEncoding = "utf-8")
kr_regional_daily
kr_daily = read.csv("./kr_daily.csv", fileEncoding = "utf-8")
kr_daily
```



ë°ì´í„° ì „ì²˜ë¦¬ ì‹¤í–‰(dateë¥¼ dateí˜•ìœ¼ë¡œ í¬ë§·ì„ ë°”ê¿”ì¤Œ)

```R
# ë°ì´í„° ì „ì²˜ë¦¬
kr_daily$date<-as.Date(as.character(kr_daily$date),format="%Y%m%d")
kr_regional_daily$date<-as.Date(as.character(kr_regional_daily$date), format="%Y%m%d")
```

ê° ìˆ˜ì¹˜ë¥¼ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

![image](https://user-images.githubusercontent.com/33304926/149641452-d6e4c62d-cef8-43b1-812b-fb35b713ec44.png)

![image](https://user-images.githubusercontent.com/33304926/149641456-e1c0520f-401d-42d4-a705-98651b869f3e.png)



### 2-1. ëˆ„ì  í™•ì§„ììˆ˜ ê·¸ë˜í”„

```R
# ì „ì²´ ëˆ„ì  í™•ì§„ììˆ˜ ê·¸ë˜í”„
ggplot(data = kr_daily, aes(x = date, y = confirmed)) + geom_col() + xlab("month")+ ylab("ëˆ„ì  í™•ì§„ì")+ ggtitle("ëˆ„ì  í™•ì§„ììˆ˜")+ theme(plot.title = element_text(
  face="bold",          # bold=êµµê²Œ, italic=ê¸°ìš¸ì„
  hjust=0.5,            # 0=ì™¼ìª½, 0.5=ê°€ìš´ë°, 1=ì˜¤ë¥¸ìª½
  vjust=1,              # ê¸°ë³¸ìœ„ì¹˜ 0ì„ ê¸°ì¤€ìœ¼ë¡œ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ì•„ë˜ìª½, 0ë³´ë‹¤ í¬ë©´ ìœ„ìª½ìœ¼ë¡œ ì´ë™
  size=20,              # ê¸€ìí¬ê¸°
  color="#ff6600"))
```

![image](https://user-images.githubusercontent.com/33304926/149641868-df7ec9cf-060e-4c61-a914-040c9a19c9cb.png)

ê·¸ëŸ°ë° ìƒê°í•´ë³´ë‹ˆ í™•ì§„ììˆ˜ì˜ ë³€í™” ì¶”ì´ë¥¼ ë³´ê¸° ìœ„í•´ì„  ë§‰ëŒ€ ê·¸ë˜í”„ë³´ë‹¤ ì„  ê·¸ë˜í”„ê°€ ë‚˜ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆê³ , ì´ì— ì„  ê·¸ë˜í”„ë¡œ ë‹¤ì‹œ ë‚˜íƒ€ë‚´ë³´ì•˜ë‹¤.

```R
ggplot(data = kr_daily, aes(x = date, y = confirmed)) + geom_line() + xlab("month")+ ylab("ëˆ„ì  í™•ì§„ì")+ ggtitle("ëˆ„ì  í™•ì§„ììˆ˜")+ theme(plot.title = element_text(
  face="bold",          # bold=êµµê²Œ, italic=ê¸°ìš¸ì„
  hjust=0.5,            # 0=ì™¼ìª½, 0.5=ê°€ìš´ë°, 1=ì˜¤ë¥¸ìª½
  vjust=1,              # ê¸°ë³¸ìœ„ì¹˜ 0ì„ ê¸°ì¤€ìœ¼ë¡œ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ì•„ë˜ìª½, 0ë³´ë‹¤ í¬ë©´ ìœ„ìª½ìœ¼ë¡œ ì´ë™
  size=20,              # ê¸€ìí¬ê¸°
  color="#ff6600"))
```

![image](https://user-images.githubusercontent.com/33304926/149641991-4766d92e-af66-4c31-b048-e958c9a841ba.png)

ì„  ê·¸ë˜í”„ë¡œ ëˆ„ì  í™•ì§„ììˆ˜ë¥¼ ë‚˜íƒ€ë‚´ë³´ë‹ˆ, 2ì›”ì—ëŠ” í™•ì§„ììˆ˜ì˜ ì¦ê°€ê°€ ë”ë ì§€ë§Œ 2ì›” ë§~4ì›”ì— í™•ì§„ììˆ˜ê°€ ê¸‰ê²©íˆ ì¦ê°€í–ˆìŒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.



### 2-2. ì¼ì¼ í™•ì§„ììˆ˜ ê·¸ë˜í”„

```R
# ì¼ì¼ í™•ì§„ì ê·¸ë˜í”„
i <- length(kr_daily$date)
while(i > 1){
  kr_daily$confirmed[i] <- kr_daily$confirmed[i] - kr_daily$confirmed[i-1]
  i <- i-1
}

ggplot(data = kr_daily, aes(x = date, y = confirmed)) + geom_col() + xlab("month")+ ylab("í™•ì§„ì ìˆ˜")+ ggtitle("ì¼ì¼ í™•ì§„ììˆ˜")+ theme(plot.title = element_text(
  face="bold",          # bold=êµµê²Œ, italic=ê¸°ìš¸ì„
  hjust=0.5,            # 0=ì™¼ìª½, 0.5=ê°€ìš´ë°, 1=ì˜¤ë¥¸ìª½
  vjust=1,              # ê¸°ë³¸ìœ„ì¹˜ 0ì„ ê¸°ì¤€ìœ¼ë¡œ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ì•„ë˜ìª½, 0ë³´ë‹¤ í¬ë©´ ìœ„ìª½ìœ¼ë¡œ ì´ë™
  size=20,              # ê¸€ìí¬ê¸°
  color="#ff6600"))
```

![image](https://user-images.githubusercontent.com/33304926/149642265-75dc391f-03fa-4f7c-93c3-97edd4f7f8d8.png)

ê·¸ë˜í”„ë¥¼ ë³´ë©´, 3ì›” ì´ˆì— ì¼ì¼ í™•ì§„ììˆ˜ê°€ ìµœëŒ€ë¥¼ ê¸°ë¡í–ˆìŒì„ ì•Œ ìˆ˜ ìˆìœ¼ë©°, 2ì›” í›„ë°˜~3ì›” ì¤‘ìˆœì— ì¼ì¼ í™•ì§„ììˆ˜ê°€ ëŒ€ì²´ë¡œ ë§ì•˜ìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.



### 2-3. ëˆ„ì  ì‚¬ë§ììˆ˜ ê·¸ë˜í”„

```R
# ëˆ„ì  ì‚¬ë§ ê·¸ë˜í”„_ë§‰ëŒ€
ggplot(data = kr_daily, aes(x = date, y = death)) + geom_col() + xlab("month")+ ylab("ì‚¬ë§ì ìˆ˜")+ ggtitle("ëˆ„ì  ì‚¬ë§ììˆ˜")+ theme(plot.title = element_text(
  face="bold",          # bold=êµµê²Œ, italic=ê¸°ìš¸ì„
  hjust=0.5,            # 0=ì™¼ìª½, 0.5=ê°€ìš´ë°, 1=ì˜¤ë¥¸ìª½
  vjust=1,              # ê¸°ë³¸ìœ„ì¹˜ 0ì„ ê¸°ì¤€ìœ¼ë¡œ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ì•„ë˜ìª½, 0ë³´ë‹¤ í¬ë©´ ìœ„ìª½ìœ¼ë¡œ ì´ë™
  size=20,              # ê¸€ìí¬ê¸°
  color="#ff6600"))
```

![image](https://user-images.githubusercontent.com/33304926/149642319-0c94c899-b50a-4c75-a82f-8886cd5889c6.png)

ëˆ„ì  ì‚¬ë§ììˆ˜ë¥¼ ë§‰ëŒ€ ê·¸ë˜í”„ë¡œ ë‚˜íƒ€ë‚´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. í•˜ì§€ë§Œ, ì´ë²ˆì—ë„ ë³€í™” ì¶”ì„¸ë¥¼ ì‚´í´ë³´ê¸° ìœ„í•´ ì´ë¥¼ ë‹¤ì‹œ ì„ ê·¸ë˜í”„ë¡œ ë‚˜íƒ€ë‚´ì—ˆë‹¤.

```R
# ëˆ„ì  ì‚¬ë§ ê·¸ë˜í”„_ì„ 
ggplot(data = kr_daily, aes(x = date, y = death)) + geom_line() + xlab("month")+ ylab("ì‚¬ë§ì ìˆ˜")+ ggtitle("ëˆ„ì  ì‚¬ë§ììˆ˜")+ theme(plot.title = element_text(
  face="bold",          # bold=êµµê²Œ, italic=ê¸°ìš¸ì„
  hjust=0.5,            # 0=ì™¼ìª½, 0.5=ê°€ìš´ë°, 1=ì˜¤ë¥¸ìª½
  vjust=1,              # ê¸°ë³¸ìœ„ì¹˜ 0ì„ ê¸°ì¤€ìœ¼ë¡œ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ì•„ë˜ìª½, 0ë³´ë‹¤ í¬ë©´ ìœ„ìª½ìœ¼ë¡œ ì´ë™
  size=20,              # ê¸€ìí¬ê¸°
  color="#ff6600"))
```

![image](https://user-images.githubusercontent.com/33304926/149642335-506e9d13-9b39-4727-91f9-a289fd5e5b51.png)

ëˆ„ì  ì‚¬ë§ììˆ˜ë¥¼ ì„  ê·¸ë˜í”„ë¡œ ë³´ë‹ˆ, ìœ„ì˜ í™•ì§„ììˆ˜ì™€ ë¹„ìŠ·í•˜ê²Œ 3ì›”~4ì›”ì— ì‚¬ë§ììˆ˜ê°€ ì¦ê°€í•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤. ë‹¨, í™•ì§„ììˆ˜ì™€ ë‹¤ë¥¸ì ì€, í™•ì§„ììˆ˜ì˜ ì¦ê°€ì¶”ì„¸ëŠ” 4ì›”~5ì›”ì—ëŠ” ì¤„ì–´ë“¤ì—ˆìœ¼ë‚˜, ì‚¬ë§ììˆ˜ëŠ” 4ì›” ì¤‘ìˆœê¹Œì§€ ì¦ê°€ì¶”ì„¸ê°€ ì´ì–´ì¡Œë‹¤ 4ì›” ë§ë¶€í„° ì¤„ì–´ë“¤ì—ˆë‹¤ëŠ” ì ì´ë‹¤.



### 2-4. ì§€ì—­ë³„ ëˆ„ì  ì‚¬ë§ì ê·¸ë˜í”„

```R
# ì§€ì—­ë³„ ëˆ„ì  ì‚¬ë§ììˆ˜ ê·¸ë˜í”„
library("reshape2")
library("dplyr")
kr_regional_daily %>% group_by(date, region)
regional_1 = kr_regional_daily %>% group_by(date, region) %>% filter(date >= as.Date("2020-06-25")) %>% filter(region != "ê²€ì—­")
regional_1

ggplot(data = regional_1, aes(x = region, y = confirmed)) + geom_col() + xlab("ì§€ì—­")+ ylab("ëˆ„ì  ì‚¬ë§ì")+ ggtitle("ì§€ì—­ë³„ ëˆ„ì  ì‚¬ë§ììˆ˜")+ theme(plot.title = element_text(
  face="bold",          # bold=êµµê²Œ, italic=ê¸°ìš¸ì„
  hjust=0.5,            # 0=ì™¼ìª½, 0.5=ê°€ìš´ë°, 1=ì˜¤ë¥¸ìª½
  vjust=1,              # ê¸°ë³¸ìœ„ì¹˜ 0ì„ ê¸°ì¤€ìœ¼ë¡œ 0ë³´ë‹¤ ì‘ìœ¼ë©´ ì•„ë˜ìª½, 0ë³´ë‹¤ í¬ë©´ ìœ„ìª½ìœ¼ë¡œ ì´ë™
  size=20,              # ê¸€ìí¬ê¸°
  color="#ff6600"))
```

![image](https://user-images.githubusercontent.com/33304926/149642436-074e9849-8235-453c-bd49-7a9afdf7f84f.png)

ë‹¤ìŒì€ 2020ë…„ 6ì›”ê¹Œì§€ì˜ ì§€ì—­ë³„ ì½”ë¡œë‚˜ ëˆ„ì  ì‚¬ë§ììˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ ê·¸ë˜í”„ì´ë‹¤. ì´ ë‹¹ì‹œê¹Œì§€ëŠ” ëŒ€êµ¬ì—ì„œ ì½”ë¡œë‚˜ë¡œ ì¸í•œ ì‚¬ë§ìê°€ ê°€ì¥ ë§ì´ ë°œìƒí•œ ê²ƒìœ¼ë¡œ ë‚˜íƒ€ë‚˜ë©°, ê·¸ ë’¤ë¥¼ ê²½ë¶, ì„œìš¸, ê²½ê¸°ê°€ ì´ì—ˆë‹¤.



### 2-5. ì§€ë„ì— ì§€ì—­ë³„ ëˆ„ì  í™•ì§„ììˆ˜ ë‚˜íƒ€ë‚´ê¸°

ë¨¼ì € ì§€ë„ì— ë‚˜íƒ€ë‚¼ ë°ì´í„°ë¥¼ ë½‘ì•„ë‚´ì£¼ê³ , í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜ ë° ë¡œë“œí•´ì¤€ë‹¤.

```R
# ë°ì´í„° ì¶”ì¶œ
regional_1 = kr_regional_daily %>% group_by(date, region) %>% filter(date >= as.Date("2020-06-25")) %>% filter(region != "ê²€ì—­")
# íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ë¡œë“œ
install.packages("ggiraphExtra")
install.packages("stringi")
install.packages("devtools")
install.packages("stringi")
install.packages("devtools")
update.packages(checkBuilt=TRUE, ask=FALSE)
devtools::install_github("cardiomoon/kormaps2014")
library(kormaps2014)
library(stringi)
library(devtools)
library(ggiraphExtra)
library(ggplot2)
install.packages("mapproj")
library(mapproj)
```

ì´ ì¤‘ kormaps2014ëŠ” í•œêµ­ ì§€ë„ë¥¼ ê·¸ë¦¬ëŠ” ë° ë„ì›€ì„ ì£¼ëŠ” íŒ¨í‚¤ì§€ì´ë‹¤.



ë°ì´í„°ì— ì§€ì—­ ì½”ë“œ í–‰ì„ ì¶”ê°€í•´ì£¼ê³ , ì§€ë„ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤.

```R
# ì§€ì—­ ì½”ë“œ í–‰ ì¶”ê°€
regional_1 <- cbind(regional_1, code = korpop1$code)
regional_1

#ì§€ë„ ë§Œë“¤ê¸°
ggChoropleth(data = regional_1,
             aes(fill = confirmed,
                 map_id = code,
                 tooltip = region),
             map = kormap1,
             interactive = T)
```

ì§€ë„ëŠ” íˆíŠ¸ë§µ í˜•íƒœë¡œ ì¶œë ¥ë˜ë©°, ì§€ë„ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ í•´ë‹¹ ì§€ì—­ì˜ ìƒ‰ì´ ê°•ì¡°ë˜ë©° ë°ì´í„°ê°€ ì¶œë ¥ëœë‹¤.

![image](https://user-images.githubusercontent.com/33304926/149642716-167d0201-f54c-4204-bb96-c2fb9d7038dc.png)

![image](https://user-images.githubusercontent.com/33304926/149642724-78161a64-ac6b-40d5-b990-0fa28e36315e.png)



## 3. Google Data Studio ì‚¬ìš©í•´ì„œ ë³´ê³ ì„œ ë§Œë“¤ê¸°

ë¨¼ì € ë²„í‚·ì„ ìƒì„±í•˜ê³  ë²„í‚·ì— ë°ì´í„°ë¥¼ ë„£ì–´ì¤€ë‹¤. ì´ê±´ ë‚´ê°€ ë§Œë“  ë²„í‚·ì´ë‹¤.

![image](https://user-images.githubusercontent.com/33304926/149643214-c4a07700-3b76-4322-a498-95cfd89edd6d.png)

![image](https://user-images.githubusercontent.com/33304926/149643439-591c96d4-e219-4c31-b543-08f70b518947.png)

![image](https://user-images.githubusercontent.com/33304926/149643445-2ace9581-f0e8-4251-a656-78f982408bc9.png)



ê·¸ ë’¤ SQL ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ì¤€ë‹¤. ipì£¼ì†ŒëŠ” ì•ˆë³´ì´ê²Œ ê°€ë ¸ë‹¤.

![image](https://user-images.githubusercontent.com/33304926/149643414-c1837606-c5f8-4a6c-8c1b-55582981cf02.png)

ì´í›„ SQLì¸ìŠ¤í„´ìŠ¤ë¥¼ ì—°ê²°í•´ì¤€ë‹¤. ë¨¼ì € í„°ë¯¸ë„ì—ì„œ sqlì„ ì—´ì–´ ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸”ì„ ìƒì„±í•´ì¤€ë‹¤.

![image](https://user-images.githubusercontent.com/33304926/149644038-e2088202-3bb8-4bba-ad10-fb147b1cec8a.png)

![image](https://user-images.githubusercontent.com/33304926/149644049-494da135-5a49-43a2-b834-4e604897eedd.png)

dbì— í…Œì´ë¸”ì„ ì‚½ì…í•œë‹¤.

![image](https://user-images.githubusercontent.com/33304926/149644656-b039ac48-37e1-4c90-b342-d6a9449f1df2.png)



Google Data Studio ì´ìš©í•˜ì—¬ í˜„í™©ì„ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ë³´ê³ ì„œë¥¼ ì‘ì„±í•œë‹¤

ë‹¤ìŒì€ ê·¸ ì˜ˆì‹œì´ë‹¤.

![image](https://user-images.githubusercontent.com/33304926/149644683-943d1b0a-6459-4f8b-a6cb-b47e7915c41b.png)





